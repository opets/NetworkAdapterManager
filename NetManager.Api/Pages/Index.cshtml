@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div class="row">
    <h2>Info</h2>
    <ul>
        <li>Sample pages using ASP.NET Core Razor Pages</li>
        <li>Theming using <a href="https://go.microsoft.com/fwlink/?LinkID=398939">Bootstrap</a></li>
    </ul>

    <h2>Adapters</h2>
    <div id="result"></div>

    <script src="~/lib/jquery/dist/jquery.js"></script>
    @*<div id="spoiler">
        <h3>Edit</h3>
        <form class="my-form">
            <input type="hidden" id="edit-id">
            <input type="checkbox" id="edit-isComplete">
            <input type="text" id="edit-name">
            <input type="submit" value="Save">
            <a onclick="closeInput()" aria-label="Close">&#10006;</a>
        </form>
    </div>*@

</div>

<script>

    $(document).ready(function () {
        var options = {};
        options.url = "/api/adapter/list";
        options.type = "GET";
        options.dataType = "json";
        options.success = function (data) {
            data.forEach(function (element) {
                $("#result").append("<h3 >" + element + "</h3>");
            });
        };
        options.error = function () {
            $("#msg").html("Error while calling the Web API!");
        };
        $.ajax(options);
    });


</script>

